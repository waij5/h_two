<div class="panel panel-default panel-intro">
	{:build_heading()}

	<input type="hidden" name="h-ajax_list_page_count" value="{$config.site.ajax_list_page_count}">
	<div class="panel-body">
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade active in" id="one">
				<div class="widget-body no-padding" style="margin-left: 15px;">
					{if (strtolower(request()->action()) != 'bookcustomer')}
					<div class="offWrap offWrapRight" title="点击弹出搜索框">
                			<!--<i class="fa fa-angle-double-right"></i>-->
                			<div class="searchText">搜索</div>
                	</div>
					<div class="commonsearch-table hidden">
						<form class="form-inline form-commonsearch nice-validator n-default" action="" novalidate="novalidate" id="f-commonsearch" role="form" method="post">
							<fieldset class="zoomInleft">
								<div class="offWrap offWrapLeft hidden" title="点击收起搜索框">
                            		<i class="fa fa-angle-double-left text-success"></i>
                            	</div>

                            	<!-- common -->
                                <div class="clearfix text-center" style="height: 21px;">
                                    <hr style="margin: 10px 0;">
                                    <span class=" text-success" style="line-height: 10px;position: relative;top: -18px;border: 1px solid #18bc9c;padding: 2px;">通用</span>
                                </div>
                            	<div class="form-group dislocationAll">
                                    <label for="customer.ctm_status" class="control-label searchPadding">{:__('ctm_status')}</label>
                                    <select class="form-control selectpicker show-tick" name="customer.ctm_status" tabindex="-98">
                                            <option value="">所有</option>
                                            <option value="1" selected>有效</option>
                                            <option value="0">废弃</option>
                                    </select>
                                </div>
                                <!-- 客户类型 -->
								<div class="form-group dislocationAll">
									<label for="customer.ctm_type" class="control-label searchPadding">{:__('ctm_type')}</label>
									<select class="form-control" required="" name="customer.ctm_type" id="customer.ctm_type">
										{foreach $ctmtypeList as $id => $name}
										<option value="{$id}">{$name}</option>
										{/foreach}
									</select>
								</div>
								<div class="form-group dislocationAll">
									<label for="customer_id" class="control-label searchPadding">{:__('customer_id')}</label>
									<input type="text" class="form-control" name="coc.customer_id" value="" placeholder="ID" id="customer_id">
								</div>
								<div class="form-group dislocationAll">
									<label for="customer.ctm_name" class="control-label searchPadding">{:__('Ctm_name')}</label>
									<input type="text" class="form-control" name="customer.ctm_name" value="" placeholder="{:__('Ctm_name')}" id="customer.ctm_name">
								</div>
								<div class="form-group dislocationAll">
									<label for="customer.ctm_mobile" class="control-label searchPadding">{:__('Contact information')}</label>
									<input type="text" class="form-control" name="customer.ctm_mobile" value="" placeholder="{:__('Contact information')}" id="customer.ctm_mobile">
								</div>
								<div class="form-group dislocationAll">
									<label for="old_ctm_code" class="control-label searchPadding">宏脉卡号</label>
									<input type="text" class="form-control" name="customer.old_ctm_code" value="" placeholder="ID" id="old_ctm_code">
								</div>
								<div class="form-group dislocationAll">
	                                <label for="ctm_birthdate" class="control-label searchPadding">{:__('ctm_age')}</label>
	                                <input type="number" class="form-control" name="customer.ctm_birthdate_start" value=""  id="ctm_birthdate_start" style="width: 100px;" />~<input type="number" class="form-control" name="customer.ctm_birthdate_end" value=""  id="ctm_birthdate_end" style="width: 100px;" />
	                            </div>
	                            <!-- 定金余额 -->
								<div class="form-group" style="margin:5px">
									<label for="customer.ctm_depositamt" class="control-label searchPadding">定金余额</label>
									<input type="text" class="form-control" name="customer.ctm_depositamt_start" value="">
									~<input type="text" class="form-control" name="customer.ctm_depositamt_end" value="">
								</div>

								<!-- 实际总金额 -->
								<div class="form-group" style="margin:5px">
									<label for="customer.ctm_salamt" class="control-label searchPadding">{:__('ctm_salamt')}</label>
									<input type="text" class="form-control" name="customer.ctm_salamt_start" value="" id="customer.ctm_salamt_start">
									~<input type="text" class="form-control" name="customer.ctm_salamt_end" value="" id="customer.ctm_salamt_end">
								</div>
	                            <!-- common end -->

	                            <!-- osc start -->
	                            <div class="clearfix text-center" style="height: 21px;">
                                    <hr style="margin: 10px 0;">
                                    <span class=" text-success" style="line-height: 10px;position: relative;top: -18px;border: 1px solid #18bc9c;padding: 2px;">现场</span>
                                </div>
                                <div class="form-group dislocationAll">
									<label for="createtime" class="control-label searchPadding">{:__('cst_Createtime')}</label>
                                    <br />
									<input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="coc.createtime_start" type="text" value="{$startDate}" id="createtime_start" style="width: 100px;" />
									~<input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="coc.createtime_end" type="text" value="{$endDate}" id="createtime_end" style="width: 100px;" />
								</div>
	                            <div class="form-group dislocationAll">
									<label for="cpdt_id" class="control-label searchPadding">{:__('Cpdt_id')}</label>

									<select class="selectpicker show-tick form-control selectSearch-min" required="" name="coc.cpdt_id" id="cpdt_id" data-live-search="true">
										{foreach $cpdtList as $key => $pdc}
										<option value="{$key}">{$pdc}</option>
										{/foreach}
									</select>
								</div>
								<div class="form-group dislocationAll">
									<label for="dept_id" class="control-label searchPadding">{:__('coc_Dept_id')}</label>
									<select class="selectpicker show-tick form-control selectSearch-mid" required="" name="coc.dept_id" id="dept_id" data-live-search="true">
									<option value="">{:__('All')}</option>
										{foreach $deptList as $key => $val}
                                        <option value="{$val.dept_id}">{$val.name}</option>
                                        {/foreach}
									</select>
								</div>
								<div class="form-group dislocationAll">
									<label for="admin_id" class="control-label searchPadding">{:__('admin_id')}</label>
									<select class="selectpicker show-tick form-control" name="coc.admin_id" data-live-search="true">
										<option value="">{:__('None')}</option>
										{foreach $briefAdminList as $key => $value}
										<option value="{$key}">{$value}</option>
										{/foreach}
									</select>
								</div>
								<div class="form-group dislocationAll">
									<label for="osc_status" class="control-label searchPadding">{:__('Osc_status')}</label>
									<select class="form-control" required="" name="coc.osc_status" id="osc_status">
										<option value="">--</option>
										{foreach $oscStatusArr as $key => $oscStatus}
										<option value="{$key}">{$oscStatus}</option>
										{/foreach}
									</select>
								</div>
								<div class="form-group dislocationAll">
									<label for="osc_type" class="control-label searchPadding">{:__('Osc_type')}</label>
									<select class="form-control" required="" name="coc.osc_type" id="osc_type">
										<option value="">{:__('All')}</option>
										{foreach $ocsTypeArr as $key => $oscType}
										<option value="{$key}">{$oscType}</option>
										{/foreach}
									</select>
								</div>
								<div class="form-group dislocationAll">
									<label for="osc_content" class="control-label searchPadding">{:__('osc_content')}</label>
									<input type="text" class="form-control" name="coc.osc_content" value="" placeholder="" id="osc_content">
								</div>
								<!-- 潜在需求 -->
                                <div class="form-group dislocationAll">
                                    <label class="control-label searchPadding" for="customer.potential_cpdt">
                                        {:__('potential_cpdt')}
                                    </label>
                                    <select class="selectpicker show-tick form-control selectSearch-min" data-live-search="true" name="customer.potential_cpdt">
                                        {foreach $cpdtList as $k => $v}
                                        <option value="{$k}">
                                            {$v}
                                        </option>
                                        {/foreach}
                                    </select>
                                </div>
								<!-- osc end -->

								<!-- cst start -->
	                            <div class="clearfix text-center" style="height: 21px;">
                                    <hr style="margin: 10px 0;">
                                    <span class=" text-success" style="line-height: 10px;position: relative;top: -18px;border: 1px solid #18bc9c;padding: 2px;">网电</span>
                                </div>
                                <div class="form-group dislocationAll">
									<label for="cst_chntype" class="control-label searchPadding">{:__('Chntype')}</label>
									<select class="form-control" required="" name="cst.type_id">
										{foreach $chnTypeList as $key => $chnType}
										<option value="{$key}">{$chnType}</option>
										{/foreach}
									</select>
								</div>
                                <!-- 营销部门 -->
								<div class="form-group dislocationAll">
									<label for="admin.dept_id" class="control-label searchPadding">{:__('admin_dept_id')}</label>
									<select class="selectpicker show-tick form-control selectSearch-min" required="" name="admin.dept_id" id="admin.dept_id" data-live-search="true">
									<option value="">{:__('All')}</option>
										{foreach $deptList as $key => $val}
                                        <option value="{$val.dept_id}">{$val.name}</option>
                                        {/foreach}
									</select>
								</div>							
								<div class="form-group dislocationAll">
									<label for="Develop_admin" class="control-label searchPadding">{:__('Develop_admin')}</label>
									<select class="selectpicker show-tick form-control" name="customer.admin_id" data-live-search="true">
										<option value="">{:__('None')}</option>
										<option value="0">自然到诊</option>
										{foreach $briefAdminList as $key => $value}
										<option value="{$key}">{$value}</option>
										{/foreach}
									</select>
								</div>
								<!-- 营销渠道 -->
								<div class="form-group dislocationAll">
									<label for="customer.ctm_explore">{:__('ctm_explore')}</label>
									<select  class="selectpicker show-tick form-control" data-live-search="true" name="customer.ctm_explore">
										{foreach $channelList as $key => $cha}
										<option value="{$key}">{$cha}</option>
										{/foreach}
									</select>
								</div>
								<!-- 客户来源 -->
								<div class="form-group dislocationAll">
									<label for="customer.ctm_source">{:__('ctm_source')}</label>
									<select  class="selectpicker show-tick form-control" data-live-search="true" name="customer.ctm_source">
										{foreach $ctmSrcList as $key => $value}
										<option value="{$key}">{$value}</option>
										{/foreach}
									</select>
								</div>
								<!-- 首次受理工具 -->
								<div class="form-group dislocationAll">
									<label for="cst_chntype" class="control-label searchPadding">{:__('customer_ctm_first_tool_id')}</label>
									<select class="selectpicker show-tick form-control selectSearch-min" required="" name="customer.ctm_first_tool_id" data-live-search="true">
										{foreach $toolList as $key => $value}
										<option value="{$key}">{$value}</option>
										{/foreach}
									</select>
								</div>
								<!-- 受理工具 -->
								<div class="form-group dislocationAll">
									<label for="cst.tool_id" class="control-label searchPadding">{:__('cst_tool_id')}</label>
									<select class="selectpicker show-tick form-control selectSearch-min" required="" name="cst.tool_id" data-live-search="true">
										{foreach $toolList as $key => $val}
										<option value="{$key}">{$val}</option>
										{/foreach}
									</select>
								</div>
								<!-- 受理人员 -->
								<div class="form-group dislocationAll">
									<label for="cst.admin_id" class="control-label searchPadding">{:__('cst_admin_id')}</label>
									<select class="selectpicker show-tick form-control" name="cst.admin_id" data-live-search="true">
										<option value="">{:__('None')}</option>
										{foreach $briefAdminList as $key => $value}
										<option value="{$key}">{$value}</option>
										{/foreach}
									</select>
								</div>
								<div class="form-group dislocationAll">
									<label for="fat_id" class="control-label searchPadding">{:__('Fat_id')}</label>
									<select class="form-control" required="" name="cst.fat_id" id="fat_id">
										{foreach $fatList as $key => $dept}
										<option value="{$key}">{$dept}</option>
										{/foreach}
									</select>
								</div>
								<!-- cst end -->
								<div class="clearfix text-center" style="height: 21px;">
                                    <hr style="margin: 10px 0;">
                                    <span class=" text-success" style="line-height: 10px;position: relative;top: -18px;border: 1px solid #18bc9c;padding: 2px;">其它</span>
                                </div>
								<div class="form-group dislocationAll">
                                    <label for="customer.ctm_pay_points" class="control-label searchPadding">{:__('ctm_pay_points')}</label>
                                    <input type="text" class="form-control" name="customer.ctm_pay_points_start" value=""  id="customer.ctm_pay_points_start">~<input type="text" class="form-control" name="customer.ctm_pay_points_end" value=""  id="customer.ctm_pay_points_end">
                            	</div> 
								<div class="form-group dislocationAll">
									<label for="customer.ctm_last_recept_time" class="control-label searchPadding">{:__('ctm_last_recept_time')}</label>
                                    <br />
									<input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="customer.ctm_last_recept_time_start" type="text" value="" id="customer.ctm_last_recept_time_start" style="width: 100px;" />
									~<input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="customer.ctm_last_recept_time_end" type="text" value="" id="customer.ctm_last_recept_time_end" style="width: 100px;" />
								</div>
								<div class="form-group dislocationAll ">
									<label for="createtime" class="control-label searchPadding">{:__('ctm_createtime')}</label>
                                    <br />
									<input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="customer.createtime_start" type="text" value="" id="customer.createtime_start" style="width: 100px;" />
									~<input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="customer.createtime_end" type="text" value="" id="customer.createtime_end" style="width: 100px;" />
								</div>
									<!-- 最近回访时间 -->
                                <div class="form-group dislocationAll">
                                    <label for="customer.ctm_last_rv_time" class="control-label searchPadding">最近回访时间</label>
                                    <br />
                                    <input class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="customer.ctm_last_rv_time_start" type="text" value="" id="customer.ctm_last_rv_time_start" style="width: 100px;" />
                                    ~<input  class="form-control datetimepicker" data-date-format="YYYY-MM-DD" data-use-current="true" name="customer.ctm_last_rv_time_end" type="text" value="" id="customer.ctm_last_rv_time_end" style="width: 100px;" />
                                </div>

								<div class="form-group dislocationAll">
									<div class="col-sm-12 text-center">
										<button type="submit" class="btn btn-success dislocationRight searchSubmit">提交</button>
										<button type="reset" class="btn btn-default">重置</button>
										 {if $auth->check('customer/customerosconsult/downloadprocess')}
										<button type="button" class="btn btn-default" id="btn-export">{:__('Export')}</button>
										{/if}
									</div>
								</div>
							</fieldset>
						</form>
					</div>
					{/if}
					<div id="toolbar" class="toolbar">
						<a href="javascript:;" class="btn btn-primary btn-refresh"><i class="fa fa-refresh"></i> </a>
						<!--<div class="clearfix"></div>-->
						<a class="table form-group" id="numInfo" style="border: none;color: #000000;">
							{foreach $ocsTypeArr as $key => $oscType}
							<label class="control-label">{:__('osc_type_' . $key)}: </label>
							<span id="total-osc-type-{$key}" class="text-success">0</span> {/foreach}
							<label class="control-label">{:__('total person-time')}: </label>
							<span id="total-osc-type-all" class="text-success">0</span>
						</a>
					</div>
					<table id="table" class="table table-striped table-bordered table-hover table-condensed" data-operate-edit="{:$auth->check('customer/customerosconsult/edit')}" data-operate-del="{:$auth->check('customer/customerosconsult/del')}" data-operate-deny="{:$auth->check('customer/customerosconsult/deny')}" width="100%" >
					</table>
				</div>
			</div>
		</div>
	</div>
</div>